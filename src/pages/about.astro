---
// About page with orange background
import PageLayout from '../layouts/PageLayout.astro';
import { getAbout } from '../lib/datocms';
import { render } from 'datocms-structured-text-to-html-string';
import { Image } from 'astro:assets';
import profileImage from '../../public/profile.jpg';

const aboutData = await getAbout();
const htmlContent = aboutData?.about ? render(aboutData.about.value) : '';
---

<PageLayout title="About" bgColor="var(--color-about)" textColor="white" transitionName="about-box">
  <div class="bg-white border-4 border-black p-8">
    <Image
      src={profileImage}
      alt="Profile"
      class="profile-image"
      width={300}
      height={300}
      quality={90}
    />

    {htmlContent ? (
      <div class="about-content" set:html={htmlContent} />
    ) : (
      <>
        <h2 class="text-4xl font-black mb-6">FREETHROW</h2>
        <p class="text-lg mb-4">
          This is a Bauhaus-inspired website showcasing modern design principles with bold typography, geometric shapes, and a carefully curated color palette.
        </p>
        <p class="text-lg mb-4">
          Built with Astro.js and Tailwind CSS, this project demonstrates how classic design movements can be translated into contemporary web experiences.
        </p>
        <p class="text-lg">
          Add your own content here to tell your story.
        </p>
      </>
    )}
  </div>
</PageLayout>

<style>
  .profile-image {
    width: 300px;
    height: 300px;
    object-fit: cover;
    border: 4px solid #000;
    margin-bottom: 2rem;
    float: left;
    margin-right: 2rem;
    shape-outside: margin-box;
  }

  @media (max-width: 768px) {
    .profile-image {
      float: none;
      margin-right: 0;
      margin-left: auto;
      margin-right: auto;
      display: block;
    }
  }

  /* Bauhaus-inspired typography - clean, geometric, functional */
  .about-content {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
    color: #000;
    line-height: 1.6;
  }

  .about-content :global(h1) {
    font-family: 'Staatliches', sans-serif;
    font-size: 2.5rem;
    font-weight: 400;
    letter-spacing: 0.02em;
    margin-top: 2.5rem;
    margin-bottom: 1.5rem;
    text-transform: uppercase;
  }

  .about-content :global(h2) {
    font-family: 'Staatliches', sans-serif;
    font-size: 2rem;
    font-weight: 400;
    letter-spacing: 0.02em;
    margin-top: 2rem;
    margin-bottom: 1rem;
    text-transform: uppercase;
  }

  .about-content :global(h3) {
    font-family: 'Staatliches', sans-serif;
    font-size: 1.5rem;
    font-weight: 400;
    letter-spacing: 0.02em;
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
    text-transform: uppercase;
  }

  .about-content :global(p) {
    font-size: 1rem;
    font-weight: 400;
    margin-bottom: 1.25rem;
    line-height: 1.7;
    text-transform: none;
  }

  .about-content :global(a) {
    color: var(--color-about);
    font-weight: 600;
    text-decoration: underline;
    text-decoration-thickness: 2px;
    text-underline-offset: 2px;
    transition: opacity 0.2s;
  }

  .about-content :global(a:hover) {
    opacity: 0.7;
  }

  .about-content :global(ul),
  .about-content :global(ol) {
    margin-bottom: 1.25rem;
    margin-left: 2rem;
    line-height: 1.7;
  }

  .about-content :global(li) {
    margin-bottom: 0.5rem;
    font-size: 1rem;
  }

  .about-content :global(strong) {
    font-weight: 700;
  }

  .about-content :global(em) {
    font-style: italic;
  }

  .about-content :global(blockquote) {
    border-left: 4px solid #000;
    padding-left: 1.5rem;
    margin: 1.5rem 0;
    font-style: italic;
    color: #333;
  }
</style>
